(this.webpackJsonpipfs=this.webpackJsonpipfs||[]).push([[0],{1005:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),o=n(419),c=n.n(o),i=(n(438),n(420)),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(1004);c.a.render(r.a.createElement(i.a,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/LillyPhotoContest",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/LillyPhotoContest","/service-worker.js");s?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()},106:function(e,t,n){"use strict";var a=n(424),r=new(n.n(a).a)(window.web3.currentProvider);t.a=r},171:function(e,t){},213:function(e,t,n){"use strict";var a=n(106);t.a=new a.a.eth.Contract([{constant:!1,inputs:[{name:"x",type:"string"}],name:"setHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getHash",outputs:[{name:"x",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],"0xc78e0e767c2d1bdba65412f95c245b254e49cfc0")},361:function(e,t){},399:function(e,t){},420:function(e,t,n){"use strict";(function(e){var a=n(51),r=n.n(a),o=n(136),c=n(421),i=n(422),s=n(430),l=n(423),u=n(431),f=n(3),h=n.n(f),d=n(429),p=(n(441),n(106)),m=n(425),v=n(213),w=n(432),b=function(t){function n(){var t,a;Object(c.a)(this,n);for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return(a=Object(s.a)(this,(t=Object(l.a)(n)).call.apply(t,[this].concat(u)))).state={ipfsHash:null,buffer:"",ethAddress:"",transactionHash:"",txReceipt:""},a.captureFile=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0],n=new window.FileReader;n.readAsArrayBuffer(t),n.onloadend=function(){return a.convertToBuffer(n)}},a.convertToBuffer=function(){var t=Object(o.a)(r.a.mark((function t(n){var o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.from(n.result);case 2:o=t.sent,a.setState({buffer:o});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.onClick=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({blockNumber:"waiting.."}),a.setState({gasUsed:"waiting..."}),e.next=5,p.a.eth.getTransactionReceipt(a.state.transactionHash,(function(e,t){console.log(e,t),a.setState({txReceipt:t})}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.onSubmit=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.eth.getAccounts();case 3:return n=e.sent,e.next=6,v.a.options.address;case 6:return o=e.sent,a.setState({ethAddress:o}),e.next=10,m.a.add(a.state.buffer,(function(e,t){console.log(e,t),a.setState({ipfsHash:t[0].hash}),v.a.methods.setHash(a.state.ipfsHash).send({from:n[0]},(function(e,t){console.log(t),a.setState({transactionHash:t})}))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){return h.a.createElement(d.a,{basename:"/"},h.a.createElement("div",{className:"App"},h.a.createElement("header",{className:"App-header"},h.a.createElement("h1",null,"Lilly Picture Contest!")),h.a.createElement("hr",null),h.a.createElement("grid",null,h.a.createElement("h3",null," Choose file to send to IPFS "),h.a.createElement("form",{onSubmit:this.onSubmit},h.a.createElement("input",{type:"file",onChange:this.captureFile}),h.a.createElement(w.a,{bsStyle:"primary",type:"submit"},"      Send it             ")),h.a.createElement("hr",null),h.a.createElement(w.a,{onClick:this.onClick}," Get Transaction Receipt "),h.a.createElement("hr",null),h.a.createElement("table",{bordered:!0,responsive:!0},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",null,"Tx Receipt Category"),h.a.createElement("th",null," "),h.a.createElement("th",null,"Values"))),h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",null,"IPFS Hash stored on Ethereum"),h.a.createElement("td",null," : "),h.a.createElement("td",null,this.state.ipfsHash)),h.a.createElement("tr",null,h.a.createElement("td",null,"Ethereum Contract Address"),h.a.createElement("td",null," : "),h.a.createElement("td",null,this.state.ethAddress)),h.a.createElement("tr",null,h.a.createElement("td",null,"Tx # "),h.a.createElement("td",null," : "),h.a.createElement("td",null,this.state.transactionHash)))))))}}]),n}(f.Component);t.a=b}).call(this,n(0).Buffer)},425:function(e,t,n){"use strict";var a=new(n(442))({host:"ipfs.infura.io",port:5001,protocol:"https"});t.a=a},433:function(e,t,n){e.exports=n(1005)},438:function(e,t,n){},441:function(e,t,n){},457:function(e,t){},459:function(e,t){},466:function(e,t){},468:function(e,t){},499:function(e,t){},500:function(e,t){},503:function(e,t){},505:function(e,t){},534:function(e,t){},536:function(e,t){},540:function(e,t){},548:function(e,t){},550:function(e,t){},554:function(e,t){},556:function(e,t){},562:function(e,t){},564:function(e,t){},604:function(e,t){},606:function(e,t){},766:function(e,t){},776:function(e,t){},846:function(e,t){},995:function(e,t){}},[[433,1,2]]]);
//# sourceMappingURL=main.321d5838.chunk.js.map